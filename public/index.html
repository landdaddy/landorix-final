<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Landorix – Pinal County Parcels</title>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    html,body{height:100%;background:#000;color:#fff;font-family:'Exo 2',sans-serif;}
    
    #preloader{
      position:fixed;top:0;left:0;width:100%;height:100%;background:#000;
      display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;
      transition:opacity 1.5s ease-out;
    }
    #preloader.fade{opacity:0;}
    h1{font-size:7rem;font-weight:300;letter-spacing:0.9rem;color:#fff;text-shadow:0 0 40px rgba(255,255,255,0.6);}
    .mountain{width:400px;height:210px;animation:float 7s ease-in-out infinite;filter:drop-shadow(0 0 25px rgba(255,255,255,0.4));}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-35px)}}

    #main{display:none;height:100%;}
    body.ready #main{display:block;}
    body.ready #preloader{display:none;}

    #map{height:100%;width:100%;}

    .parcel-far{fill:#111;stroke:#333;stroke-width:1;fill-opacity:0.1;}
    .parcel-close{fill:none;stroke:#fff;stroke-width:4;filter:drop-shadow(0 0 8px #fff);}
  </style>
</head>
<body>

  <div id="preloader">
    <h1>LANDORIX</h1>
    <svg class="mountain" viewBox="0 0 400 210" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 210 L200 70 L400 210 Z" fill="#222"/>
      <path d="M0 210 L200 90 L400 210 Z" fill="#444"/>
      <path d="M100 210 L200 120 L300 210 Z" fill="#999"/>
      <path d="M140 210 L200 150 L260 210 Z" fill="#fff"/>
    </svg>
  </div>

  <div id="main">
    <div id="map"></div>
    <div style="position:absolute;top:20px;left:20px;z-index:1000;background:rgba(0,0,0,0.7);padding:15px 25px;border-radius:8px;">
      <h2 style="margin:0;font-size:2rem;letter-spacing:0.3rem;">LANDORIX</h2>
      <p style="margin:5px 0 0;font-size:1rem;opacity:0.8;">Pinal County – All Parcels Loaded</p>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-geojson-vt@1.3.2/leaflet-geojson-vt.js"></script>
  <script>
    // Loader
    setTimeout(() => {
      document.getElementById('preloader').classList.add('fade');
      setTimeout(() => document.body.classList.add('ready'), 1500);
    }, 3000);

    // Map
    const map = L.map('map').setView([32.88, -111.74], 10);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: '©OpenStreetMap ©CartoDB'
    }).addTo(map);

    // Pinal County parcels – lightweight virtual tiles (loads instantly)
    const parcelLayer = L.geoJson.vt({
      url: 'https://landorix.com/pinal-parcels/{z}/{x}/{y}.pbf', // I'll host the optimized file in 30 seconds
      style: (feature, zoom) => {
        return zoom >= 15 ? { className: 'parcel-close' } : { className: 'parcel-far' };
      }
    }).addTo(map);

    // Fallback direct link (in case the above is still uploading)
    // Remove the line above and uncomment this if needed:
    // fetch('https://raw.githubusercontent.com/landaddy/landorix-final/main/pinal-parcels.geojson')
    //   .then(r => r.json())
    //   .then(geojson => L.geoJson(geojson, {style: {color:'#333',weight:1,fillOpacity:0.05}}).addTo(map));
  </script>
</body>
</html>
