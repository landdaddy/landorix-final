<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Landorix – Pinal County</title>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    html,body{height:100%;background:#000;color:#fff;font-family:'Exo 2',sans-serif;overflow:hidden;}
    
    #preloader{
      position:fixed;top:0;left:0;width:100%;height:100%;background:#000;
      display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;
      transition:opacity 1.5s ease-out;
    }
    #preloader.fade{opacity:0;}
    
    h1{font-size:clamp(3rem,12vw,8rem);font-weight:300;letter-spacing:0.8rem;color:#fff;text-shadow:0 0 40px rgba(255,255,255,0.6);margin-bottom:2vh;}
    .mountain{width:clamp(200px,80vw,420px);height:auto;animation:float 7s ease-in-out infinite;filter:drop-shadow(0 0 25px rgba(255,255,255,0.4));}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-35px)}}

    #main{display:none;height:100%;}
    body.ready #main{display:block;}
    body.ready #preloader{display:none;}

    #map{height:100%;width:100%;}

    .title-box{
      position:absolute;top:env(safe-area-inset-top,15px);left:50%;transform:translateX(-50%);
      background:rgba(0,0,0,0.85);padding:12px 30px;border-radius:12px;
      backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.1);z-index:1000;text-align:center;
    }
    .title-box h2{font-size:clamp(1.8rem,6vw,2.8rem);letter-spacing:0.4rem;margin:0;}
    .title-box p{font-size:clamp(0.9rem,3vw,1.1rem);margin:6px 0 0;opacity:0.9;}
  </style>
</head>
<body>

  <div id="preloader">
    <h1>LANDORIX</h1>
    <svg class="mountain" viewBox="0 0 400 210" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 210 L200 70 L400 210 Z" fill="#222"/>
      <path d="M0 210 L200 90 L400 210 Z" fill="#444"/>
      <path d="M100 210 L200 120 L300 210 Z" fill="#999"/>
      <path d="M140 210 L200 150 L260 210 Z" fill="#fff"/>
    </svg>
  </div>

  <div id="main">
    <div id="map"></div>
    <div class="title-box">
      <h2>LANDORIX</h2>
      <p>Pinal County – Full Parcel Boundaries</p>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    setTimeout(() => {
      document.getElementById('preloader').classList.add('fade');
      setTimeout(() => {
        document.body.classList.add('ready');
        setTimeout(() => map.invalidateSize(), 100);
      }, 1600);
    }, 3000);

    const map = L.map('map', { zoomControl: false }).setView([32.88, -111.74], 10);
    
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: '©OpenStreetMap ©CartoDB'
    }).addTo(map);

    L.control.zoom({ position: 'bottomright' }).addTo(map);

    // THIS IS THE EXACT SAME LAYER THE OFFICIAL ASSESSOR VIEWER USES
    L.tileLayer('https://gis.pinal.gov/arcgis/rest/services/Parcels/MapServer/tile/{z}/{y}/{x}', {
      layers: '0',
      format: 'image/png',
      transparent: true,
      opacity: 1,
      attribution: 'Pinal County Assessor'
    }).addTo(map).bringToFront();
  </script>
</body>
</html>
